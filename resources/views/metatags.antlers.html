{{ if settings | in_array:basic }}
<!-- BASIC METATAGS-->
{{ fields }}
  {{ if basic_title }}<title>{{ basic_title }}</title>{{ /if }}
  {{ if basic_description }}<meta name="description" content="{{ basic_description }}" />{{ /if }}
  {{ if basic_keywords }}<meta name="keywords" content="{{ basic_keywords | join }}" />{{ /if }}
  {{ if basic_robots }}<meta name="robots" content="{{ basic_robots }}{{ value }}{{ if !last }}, {{ /if }}{{ /basic_robots }}" />{{ /if }}
{{ /fields }}
<link rel="canonical" href="{{ advanced_canonical ?? extras.permalink }}">
{{ /if }}

{{ if settings | in_array:advanced }}
<!-- ADVANCED METATAGS -->
{{ fields }}
  {{ if advanced_author }}<meta name="author" content="{{ advanced_author }}" />{{ /if }}
  {{ if advanced_generator }}<meta name="generator" content="{{ advanced_generator }}" />{{ /if }}
  {{ if advanced_image }}<link rel="image_src" href="{{ advanced_image.permalink }}">{{ /if }}
  {{ if advanced_rights }}<meta name="copyright" content="{{ advanced_rights }}" />{{ /if }}
  {{ if advanced_rating }}<meta name="rating" content="{{ advanced_rating:value }}" />{{ /if }}
  {{ if advanced_referrer }}<meta name="referrer" content="{{ advanced_referrer:value }}" />{{ /if }}
  {{ if advanced_short_link }}<link rel="shortlink" href="{{ advanced_short_link }}" />{{ /if }}
  {{ if advanced_original_source }}<link rel="original-source" href="{{ advanced_original_source }}" />{{ /if }}
  {{ if advanced_geo_position }}<meta name="geo.position" content="{{ advanced_geo_position }}" />{{ /if }}
  {{ if advanced_geo_placename }}<meta name="geo.placename" content="{{ advanced_geo_placename }}" />{{ /if }}
  {{ if advanced_geo_region }}<meta name="geo.region" content="{{ advanced_geo_region }}" />{{ /if }}
  {{ if advanced_icbm }}<meta name="ICBM" content="{{ advanced_icbm }}" />{{ /if }}
  {{ if advanced_refresh }}<meta http-equiv="refresh" content="{{ advanced_refresh }}" />{{ /if }}
{{ /fields }}
{{ /if }}

{{ if settings | in_array:site_verifications }}
<!-- SITE VERIFICATIONS -->
{{ fields }}
  {{ if site_verifications_bing }}<meta name="msvalidate.01" content="{{ site_verifications_bing }}" />{{ /if }}
  {{ if site_verifications_baidu }}<meta name="baidu-site-verification" content="{{ site_verifications_baidu }}" />{{ /if }}
  {{ if site_verifications_google }}<meta name="google-site-verification" content="{{ site_verifications_google }}" />{{ /if }}
  {{ if site_verifications_norton }}<meta name="norton-safeweb-site-verification" content="{{ site_verifications_norton }}" />{{ /if }}
  {{ if site_verifications_pinterest }}<meta name="p:domain_verify" content="{{ site_verifications_pinterest }}" />{{ /if }}
  {{ if site_verifications_pocket }}<meta name="pocket-site-verification" content="{{ site_verifications_pocket }}" />{{ /if }}
  {{ if site_verifications_yandex }}<meta name="yandex-verification" content="{{ site_verifications_yandex }}" />{{ /if }}
  {{ if site_verifications_zoom }}<meta name="zoom-domain-verification" content="{{ site_verifications_zoom }}" />{{ /if }}
{{ /fields }}
{{ /if }}

{{ if settings | in_array:og }}
<!-- OPEN GRAPH -->
{{ extras.site }}<meta property="og:site_name" content="{{ name }}">{{ /extras.site }}
{{ fields }}
  {{ if og_type }}<meta property="og:type" content="{{ og_type }}" />{{ /if }}
  <!-- TODO: show page title on null -->
  {{ if og_title }}<meta property="og:title" content="{{ og_title }}" />{{ /if }}
  {{ if og_determiner }}<meta property="og:determiner" content="{{ og_determiner }}" />{{ /if }}
  {{ if og_description }}<meta property="og:description" content="{{ og_description }}" />{{ /if }}
  {{ if og_image }}
    {{ og_image }}
    <meta property="og:image" content="{{ url }}" />
    <meta property="og:image:width" content="{{ width }}" />
    <meta property="og:image:height" content="{{ height }}" />
    {{ /og_image }}
  {{ /if }}
  {{ if og_audio }}
    {{ og_audio }}
    <meta property="og:audio" content="{{ url }}" />
    {{ /og_audio }}
  {{ /if }}
  {{ if og_video }}
    {{ og_video }}
    <meta property="og:video" content="{{ url }}" />
    {{ /og_video }}
  {{ /if }}

  {{ if og_type == 'article' }}
    {{ if og_article_author }}
      {{ og_article_author }}
      <meta property="article:author" content="{{ value }}" />
      {{ /og_article_author }}
    {{ /if }}
    {{ if og_article_section }}<meta property="article:section" content="{{ og_article_section }}" />{{ /if }}
    {{ if og_article_tag }}
      {{ og_article_tag }}
      <meta property="article:tag" content="{{ value }}" />
      {{ /og_article_tag }}
    {{ /if }}
    {{ if og_article_published_time }}<meta property="article:published_time" content="{{ og_article_published_time format='c' }}" />{{ /if }}
    {{ if og_article_modified_time }}<meta property="article:modified_time" content="{{ og_article_modified_time format='c' }}" />{{ /if }}
    {{ if og_article_expiration_time }}<meta property="article:expiration_time" content="{{ og_article_expiration_time format='c' }}" />{{ /if }}
  {{ /if }}

  {{ if og_type == 'book' }}
    {{ if og_book_author }}
      {{ og_book_author }}
      <meta property="book:author" content="{{ value }}" />
      {{ /og_book_author }}
    {{ /if }}
    {{ if og_book_isbn }}<meta property="book:isbn" content="{{ og_book_isbn }}" />{{ /if }}
    {{ if og_book_release_date }}<meta property="book:release_date" content="{{ og_book_release_date format='c' }}" />{{ /if }}
    {{ if og_book_tag }}
      {{ og_book_tag }}
      <meta property="book:tag" content="{{ value }}" />
      {{ /og_book_tag }}
    {{ /if }}
  {{ /if }}

  {{ if og_type == 'profile' }}
    {{ if og_profile_first_name }}<meta property="profile:first_name" content="{{ og_profile_first_name }}" />{{ /if }}
    {{ if og_profile_last_name }}<meta property="profile:last_name" content="{{ og_profile_last_name }}" />{{ /if }}
    {{ if og_profile_username }}<meta property="profile:username" content="{{ og_profile_username }}" />{{ /if }}
    {{ if og_profile_gender }}<meta property="profile:gender" content="{{ og_profile_gender }}" />{{ /if }}
  {{ /if }}

  {{ if og_type | contains:video }}
    {{ if og_video_actor }}
      {{ og_video_actor }}
      <meta property="video:actor" content="{{ value }}" />
      {{ /og_video_actor }}
    {{ /if }}
    {{ if og_video_actor_role }}
      {{ og_video_actor_role }}
      <meta property="video:actor:role" content="{{ value }}" />
      {{ /og_video_actor_role }}
    {{ /if }}
    {{ if og_video_director }}
      {{ og_video_director }}
      <meta property="video:director" content="{{ value }}" />
      {{ /og_video_director }}
    {{ /if }}
    {{ if og_video_writer }}
      {{ og_video_writer }}
      <meta property="video:writer" content="{{ value }}" />
      {{ /og_video_writer }}
    {{ /if }}
    {{ if og_video_duration }}<meta property="video:duration" content="{{ og_video_duration }}" />{{ /if }}
    {{ if og_video_release_date }}<meta property="video:release_date" content="{{ og_video_release_date format='c' }}" />{{ /if }}
    {{ if og_video_tag }}
      {{ og_video_tag }}
      <meta property="video:tag" content="{{ value }}" />
      {{ /og_video_tag }}
    {{ /if }}
    {{ if og_type == 'video.episode' }}
      {{ if og_video_series }}<meta property="video:series" content="{{ og_video_series }}" />{{ /if }}
    {{ /if }}
  {{ /if }}

  {{ if og_type | contains:music }}
    {{ if og_type == 'music.song' }}
      {{ if og_music_duration }}<meta property="music:duration" content="{{ og_music_duration }}" />{{ /if }}
      {{ if og_music_album }}
        {{ og_music_album }}
        <meta property="music:album" content="{{ value }}" />
        {{ /og_music_album }}
      {{ /if }}
      {{ if og_music_album_disc }}<meta property="music:album:disc" content="{{ og_music_album_disc }}" />{{ /if }}
      {{ if og_music_album_track }}<meta property="music:album:track" content="{{ og_music_album_track }}" />{{ /if }}
      {{ if og_music_musician }}
        {{ og_music_musician }}
        <meta property="music:musician" content="{{ value }}" />
        {{ /og_music_musician }}
      {{ /if }}
    {{ /if }}

    {{ if og_type == 'music.album' }}
      {{ if og_music_song }}<meta property="music:song" content="{{ og_music_song }}" />{{ /if }}
      {{ if og_music_song_disc }}<meta property="music:song:disc" content="{{ og_music_song_disc }}" />{{ /if }}
      {{ if og_music_song_track }}<meta property="music:song:track" content="{{ og_music_song_track }}" />{{ /if }}
      {{ if og_music_musician }}
        {{ og_music_musician }}
        <meta property="music:musician" content="{{ value }}" />
        {{ /og_music_musician }}
      {{ /if }}
      {{ if og_music_release_date }}<meta property="music:release_date" content="{{ og_music_release_date format='c' }}" />{{ /if }}
    {{ /if }}

    {{ if og_type == 'music.playlist' }}
      {{ if og_music_song }}<meta property="music:song" content="{{ og_music_song }}" />{{ /if }}
      {{ if og_music_song_disc }}<meta property="music:song:disc" content="{{ og_music_song_disc }}" />{{ /if }}
      {{ if og_music_song_track }}<meta property="music:song:track" content="{{ og_music_song_track }}" />{{ /if }}
      {{ if og_music_creator }}<meta property="music:creator" content="{{ og_music_creator }}" />{{ /if }}
    {{ /if }}

    {{ if og_type == 'music.radio_station' }}
      {{ if og_music_creator }}<meta property="music:creator" content="{{ og_music_creator }}" />{{ /if }}
    {{ /if }}
  {{ /if }}

  {{ if og_type == 'product' }}
    {{ if og_product_plural_title }}<meta property="product:plural_title" content="{{ og_product_plural_title }}" />{{ /if }}
    <!-- TODO: amount and currency can be array -->
    {{ if og_product_price_amount }}<meta property="product:price:amount" content="{{ og_product_price_amount }}" />{{ /if }}
    {{ if og_product_price_currency }}<meta property="product:price:currency" content="{{ og_product_price_currency }}" />{{ /if }}
  {{ /if }}
{{ /fields }}

{{ extras.site }}<meta property="og:locale" content="{{ locale }}" />{{ /extras.site }}
{{ /if }}

{{ if settings | in_array:facebook }}
<!-- FACEBOOK -->
{{ fields }}
  {{ if facebook_admins }}<meta property="fb:admins" content="{{ facebook_admins | join }}" />{{ /if }}
  {{ if facebook_app_id }}<meta property="fb:app_id" content="{{ facebook_app_id | join }}" />{{ /if }}
{{ /fields }}
{{ /if }}

{{ if settings | in_array:pinterest }}
<!-- PINTEREST -->
{{ fields }}
  {{ if pinterest_image }}
    {{ pinterest_image }}
    <meta property="og:image" content="{{ url }}" />
    {{ /pinterest_image}}
  {{ /if }}
  {{ if pinterest_see_also }}
    {{ pinterest_see_also }}
      <meta property="og:see_also" content="{{ value }}" />
    {{ /pinterest_see_also}}
  {{ /if }}
  {{ if pinterest_referenced }}<meta property="og:referenced" content="{{ pinterest_referenced }}" />{{ /if }}
  {{ if pinterest_rating }}<meta property="og:rating" content="{{ pinterest_rating }}" />{{ /if }}
  {{ if pinterest_rating_scale }}<meta property="og:rating_scale" content="{{ pinterest_rating_scale }}" />{{ /if }}
  {{ if pinterest_rating_count }}<meta property="og:rating_count" content="{{ pinterest_rating_count }}" />{{ /if }}

  {{ if pinterest_type == 'article' }}
    {{ if pinterest_modified_time }}<meta property="article:modified_time" content="{{ pinterest_modified_time format='c' }}" />{{ /if }}
    {{ if pinterest_section }}<meta property="article:section" content="{{ pinterest_section }}" />{{ /if }}
    {{ if pinterest_tag }}<meta property="article:tag" content="{{ pinterest_tag | join }}" />{{ /if }}
  {{ /if }}

  {{ if pinterest_type == 'product' }}
    {{ if pinterest_start_date }}<meta property="og:price:start_date" content="{{ pinterest_start_date format='c' }}" />{{ /if }}
    {{ if pinterest_end_date }}<meta property="og:price:end_date" content="{{ pinterest_end_date format='c' }}" />{{ /if }}
    {{ if pinterest_code_type && pinterest_code_id }}<meta property="{{ pinterest_code_type }}" content="{{ pinterest_code_id }}" />{{ /if }}
    {{ if pinterest_availability_destinations }}<meta property="og:availability:destinations" content="{{ pinterest_availability_destinations | join }}" />{{ /if }}
    {{ if pinterest_expiration_time }}<meta property="product:expiration_time" content="{{ pinterest_expiration_time format='c' }}" />{{ /if }}
    {{ if pinterest_gender }}<meta property="product:gender" content="{{ pinterest_gender }}" />{{ /if }}
    {{ if pinterest_color }}
      {{ pinterest_color }}
      <meta property="product:color" content="{{ value }}" />
      {{ /pinterest_color }}
    {{ /if }}
    {{ if pinterest_color_map }}
      {{ pinterest_color_map }}
      <meta property="product:color:map" content="{{ value }}" />
      {{ /pinterest_color_map }}
    {{ /if }}
    {{ if pinterest_color_image }}
      {{ pinterest_color_image }}
      <meta property="product:color:image" content="{{ url }}" />
      {{ /pinterest_color_image }}
    {{ /if }}
  {{ /if }}
{{ /fields }}
{{ /if }}

{{ if settings | in_array:twitter }}
<!-- TWITTER -->
{{ fields }}
  {{ if twitter_type }}<meta property="twitter:card" content="{{ twitter_type }}" />{{ /if }}
  {{ if twitter_type != 'app' }}
    {{ if twitter_site }}<meta property="twitter:site" content="{{ twitter_site }}" />{{ /if }}
    {{ if twitter_site_id }}<meta property="twitter:site:id" content="{{ twitter_site_id }}" />{{ /if }}
    {{ if twitter_creator }}<meta property="twitter:creator" content="{{ twitter_creator }}" />{{ /if }}
    {{ if twitter_creator_id }}<meta property="twitter:creator:id" content="{{ twitter_creator_id }}" />{{ /if }}
    {{ if twitter_description }}<meta property="twitter:description" content="{{ twitter_description }}" />{{ /if }}
    {{ if twitter_title }}<meta property="twitter:title" content="{{ twitter_title }}" />{{ /if }}
    {{ if twitter_image }}
      <meta property="twitter:image" content="{{ twitter_image.url }}" />
      {{ if twitter_image.alt }}<meta property="twitter:image:alt" content="{{ twitter_image.alt }}" />{{ /if }}
    {{ /if }}
  {{ /if }}
  {{ if twitter_type == 'player' }}
    {{ if twitter_player }}<meta property="twitter:player" content="{{ twitter_player }}" />{{ /if }}
    {{ if twitter_player_width }}<meta property="twitter:player:width" content="{{ twitter_player_width }}" />{{ /if }}
    {{ if twitter_player_height }}<meta property="twitter:player:height" content="{{ twitter_player_height }}" />{{ /if }}
    {{ if twitter_player_stream }}<meta property="twitter:player:stream" content="{{ twitter_player_stream }}" />{{ /if }}
  {{ /if }}
  {{ if twitter_type == 'app' }}
    {{ if twitter_app_name_iphone }}<meta property="twitter:app:name:iphone" content="{{ twitter_app_name_iphone }}" />{{ /if }}
    {{ if twitter_app_id_iphone }}<meta property="twitter:app:id:iphone" content="{{ twitter_app_id_iphone }}" />{{ /if }}
    {{ if twitter_app_url_iphone }}<meta property="twitter:app:url:iphone" content="{{ twitter_app_url_iphone }}" />{{ /if }}
    {{ if twitter_app_name_ipad }}<meta property="twitter:app:name:ipad" content="{{ twitter_app_name_ipad }}" />{{ /if }}
    {{ if twitter_app_id_ipad }}<meta property="twitter:app:id:ipad" content="{{ twitter_app_id_ipad }}" />{{ /if }}
    {{ if twitter_app_url_ipad }}<meta property="twitter:app:url:ipad" content="{{ twitter_app_url_ipad }}" />{{ /if }}
    {{ if twitter_app_name_googleplay }}<meta property="twitter:app:name:googleplay" content="{{ twitter_app_name_googleplay }}" />{{ /if }}
    {{ if twitter_app_id_googleplay }}<meta property="twitter:app:id:googleplay" content="{{ twitter_app_id_googleplay }}" />{{ /if }}
    {{ if twitter_app_url_googleplay }}<meta property="twitter:app:url:googleplay" content="{{ twitter_app_url_googleplay }}" />{{ /if }}
  {{ /if }}
{{ /fields }}
{{ /if }}

{{ if settings | in_array:app_links }}
<!-- APP LINKS -->
{{ fields }}
  {{ if app_links_ios_url }}<meta property="al:ios:url" content="{{ app_links_ios_url }}" />{{ /if }}
  {{ if app_links_ios_app_store_id }}<meta property="al:ios:app_store_id" content="{{ app_links_ios_app_store_id }}" />{{ /if }}
  {{ if app_links_ios_app_name }}<meta property="al:ios:app_name" content="{{ app_links_ios_app_name }}" />{{ /if }}
  {{ if app_links_iphone_url }}<meta property="al:iphone:url" content="{{ app_links_iphone_url }}" />{{ /if }}
  {{ if app_links_iphone_app_store_id }}<meta property="al:iphone:app_store_id" content="{{ app_links_iphone_app_store_id }}" />{{ /if }}
  {{ if app_links_iphone_app_name }}<meta property="al:iphone:app_store_id" content="{{ app_links_iphone_app_name }}" />{{ /if }}
  {{ if app_links_ipad_url }}<meta property="al:ipad:url" content="{{ app_links_ipad_url }}" />{{ /if }}
  {{ if app_links_ipad_app_store_id }}<meta property="al:ipad:app_store_id" content="{{ app_links_ipad_app_store_id }}" />{{ /if }}
  {{ if app_links_ipad_app_name }}<meta property="al:ipad:app_name" content="{{ app_links_ipad_app_name }}" />{{ /if }}
  {{ if app_links_android_url }}<meta property="al:android:url" content="{{ app_links_android_url }}" />{{ /if }}
  {{ if app_links_android_package }}<meta property="al:android:package" content="{{ app_links_android_package }}" />{{ /if }}
  {{ if app_links_android_class }}<meta property="al:android:class" content="{{ app_links_android_class }}" />{{ /if }}
  {{ if app_links_android_app_name }}<meta property="al:android:app_name" content="{{ app_links_android_app_name }}" />{{ /if }}
  {{ if app_links_wp_url }}<meta property="al:windows_phone:url" content="{{ app_links_wp_url }}" />{{ /if }}
  {{ if app_links_wp_app_id }}<meta property="al:windows_phone:app_id" content="{{ app_links_wp_app_id }}" />{{ /if }}
  {{ if app_links_wp_app_name }}<meta property="al:windows_phone:app_name" content="{{ app_links_wp_app_name }}" />{{ /if }}
  {{ if app_links_win_url }}<meta property="al:windows:url" content="{{ app_links_win_url }}" />{{ /if }}
  {{ if app_links_win_app_id }}<meta property="al:windows:app_id" content="{{ app_links_win_app_id }}" />{{ /if }}
  {{ if app_links_win_app_name }}<meta property="al:windows:app_name" content="{{ app_links_win_app_name }}" />{{ /if }}
  {{ if app_links_win_uni_url }}<meta property="al:windows_universal:url" content="{{ app_links_win_uni_url }}" />{{ /if }}
  {{ if app_links_win_uni_app_id }}<meta property="al:windows_universal:app_id" content="{{ app_links_win_uni_app_id }}" />{{ /if }}
  {{ if app_links_win_uni_app_name }}<meta property="al:windows_universal:app_name" content="{{ app_links_win_uni_app_name }}" />{{ /if }}
  {{ if app_links_web_url }}<meta property="al:web:url" content="{{ app_links_web_url }}" />{{ /if }}
  {{ if app_links_web_should_fallback }}<meta property="al:web:should_fallback" content="{{ app_links_web_should_fallback }}" />{{ /if }}
{{ /fields }}
{{ /if }}

{{ if settings | in_array:mobile }}
<!-- MOBILE -->
{{ fields }}
  {{ if mobile_viewport }}<meta name="viewport" content="{{ mobile_viewport }}" />{{ /if }}
  {{ if mobile_mobile_optimized }}<meta name="MobileOptimized" content="{{ mobile_mobile_optimized | join }}" />{{ /if }}
  {{ if mobile_handheld_friendly }}<meta name="HandheldFriendly" content="{{ mobile_handheld_friendly | join }}" />{{ /if }}
{{ /fields }}
{{ /if }}

{{ if settings | in_array:apple }}
<!-- APPLE -->
{{ fields }}
  {{ if apple_format_detection }}<meta name="format-detection" content="{{ apple_format_detection | join }}" />{{ /if }}
  {{ if apple_apple_itunes_app }}<meta name="apple-itunes-app" content="{{ apple_apple_itunes_app }}" />{{ /if }}
  {{ if apple_apple_mobile_web_app_capable }}<meta name="apple-mobile-web-app-capable" content="{{ apple_apple_mobile_web_app_capable }}" />{{ /if }}
  {{ if apple_apple_mobile_web_app_status_bar_style }}<meta name="apple-mobile-web-app-status-bar-style" content="{{ apple_apple_mobile_web_app_status_bar_style }}" />{{ /if }}
{{ /fields }}
{{ /if }}

{{ if settings | in_array:android }}
<!-- ANDROID -->
{{ fields }}
  {{ if android_theme_color }}<meta name="theme-color" content="{{ android_theme_color }}" />{{ /if }}
  {{ if android_manifest }}<link rel="manifest" href="{{ android_manifest.url }}" />{{ /if }}
{{ /fields }}
{{ /if }}

{{ if settings | in_array:favicons }}
<!-- FAVICONS -->
{{ fields }}
  {{ if favicons_mask_icon }}<link rel="mask-icon" href="{{ favicons_mask_icon.url }}"{{ if favicons_mask_icon_color }} color="{{ favicons_mask_icon_color }}"{{ /if }} />{{ /if }}
  {{ if favicons_apple_touch_icon }}<link rel="apple-touch-icon" sizes="180x180" href="{{ favicons_apple_touch_icon.url }}">{{ /if }}
  {{ if favicons_icon_16 }}<link rel="icon" type="image/png" sizes="16x16" href="{{ favicons_icon_16.url }}">{{ /if }}
  {{ if favicons_icon_32 }}<link rel="icon" type="image/png" sizes="32x32" href="{{ favicons_icon_32.url }}">{{ /if }}
{{ /fields }}
{{ /if }}
